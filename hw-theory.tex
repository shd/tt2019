\documentclass[10pt,a4paper,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{cmll}
\usepackage{enumerate}
\usepackage{stmaryrd}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage{proof}
\usepackage{url}
\usepackage{CJKutf8}
\newcommand{\gq}[1]{\texttt{<<}#1\texttt{>>}}
\newcommand{\ogq}[1]{\overline{\texttt{<<}#1\texttt{>>}}}
\begin{document}

\begin{center}{\Large\textsc{\textbf{Теоретические (``малые'') домашние задания}}}\\
             \it Теория типов, ИТМО, М3334-М3339, осень 2019 года\end{center}

\section*{Домашнее задание №1: <<знакомство с лямбда-исчислением>>}

\begin{enumerate}
\item Расставьте скобки:

\begin{enumerate}
\item $\lambda x.x\ x\ \lambda x.x\ x$
\item $(\lambda x.x\ x)\ \lambda x.x\ x$
\item $\lambda x.(x\ x)\ \lambda x.x\ x$
\item $\lambda f.\lambda x.f f f x$
\end{enumerate}

\item Проведите бета-редукции и приведите выражения к нормальной форме:

\begin{enumerate}
\item $(\lambda a.\lambda b.a)\ (\lambda a.\lambda b.a)\ (\lambda a.\lambda b.b)$
\item $(\lambda a.\lambda b.a)\ b$
\item $(\lambda f.\lambda x.f\ (f\ x))\ (\lambda f.\lambda x.f\ (f\ x))$
\end{enumerate}

\item Выразите следующие функции в лямбда-исчислении:

\begin{enumerate}
\item Or, Xor;
\item тернарная операция в Си (\verb!?:!);
\item isZero (T, если аргумент равен 0, иначе F);
\item isEven (T, если аргумент чётный);
\item умножение на 2;
\item умножение;
\item возведение в степень;
\item упорядоченная пара. К паре должны прилагаться три лямбда-выражения ($M$, $P_l$, $P_r$):
выражение $M$ по двум значениям строит упорядоченную пару, а выражения $P_l$ и $P_r$ возвращают
первый и второй элемент упорядоченной пары соответственно.

Убедитесь, что для ваших выражений выполнено $$P_l\ (M\ A\ B) \rightarrow_\beta \dots \rightarrow_\beta A$$ и 
$$P_r\ (M\ A\ B) \rightarrow_\beta \dots \rightarrow_\beta B$$
\item вычитание 1;
\item вычитание;
\item сравнение (<<меньше>>);
\item деление.
\end{enumerate}

\item Назовём бета-эквивалентностью транзитивное, рефлексивное и симметричное замыкание отношения
бета-редукции, будем записывать его как $(=_\beta)$. В частности, бета-эквивалентны те термы,
которые имеют одинаковую нормальную форму.
Также, нетрудно заметить следующее:
\begin{enumerate}
\item $And\ T\ F =_\beta F$;
\item $\Omega =_\beta \Omega$;
\item $(\lambda n.\lambda f.\lambda x.n\ f\ (f\ x))\ \overline{n\vphantom{n+1}} =_\beta \overline{n+1}$;
\item $a \ne_\beta b$.
\end{enumerate}

Мы будем говорить, что лямбда-выражение $E$ выражает функцию $f(x_1,\dots,x_k): \mathbb{N}_0^k \rightarrow \mathbb{N}_0$,
если при любых $x_1,\dots,x_k \in \mathbb{N}_0$
выполнено

$$E\ \overline{x_1}\ \dots\ \overline{x_k} =_\beta \overline{f(x_1,\dots,x_k)}$$

Какие функции выражают следующие выражения? Ответ обоснуйте.
\begin{enumerate}
\item $\lambda m.\lambda n.n\ m$;
\item $\lambda m.\lambda n.\lambda x.n\ (m\ x)$.
\end{enumerate}

\item \emph{Ненормализуемым} назовём лямбда-выражение, не имеющее нормальной формы,
то есть выражение, для которого нет конечной последовательности бета-редукций,
приводящей к нормальной форме.
\emph{Сильно нормализуемым} назовём лямбда-выражение, для которого не существует бесконечной
последовательности бета-редукций (любая последовательность бета-редукций неизбежно 
заканчивается нормальной формой, если её продолжать достаточно долго).
\emph{Слабо нормализуемым} назовём лямбда-выражение, которое имеет нормальную форму,
но существует бесконечная последовательность бета-редукций, которая не приводит его
в нормальную форму. Приведите примеры сильно нормализуемого, слабо нормализуемого и 
ненормализуемого лямбда-выражения.
\end{enumerate}

\section*{Домашнее задание №2: <<теорема Чёрча-Россера, Y-комбинатор>>}

\begin{enumerate}
\item \emph{Полное доказательство теоремы Чёрча-Россера.}
На лекции был представлен план доказательства теоремы, в котором необходимо заполнить
пустоты. 
\begin{enumerate}
\item Покажите, что отношение бета-редукции --- подотношение отношения параллельной бета-редукции.
В символической записи, $(\rightarrow_\beta) \subseteq (\rightrightarrows_\beta)$.
То есть, если $A \rightarrow_\beta B$, то $A \rightrightarrows_\beta B$.

\item Покажите, что каковы бы ни были термы $A$, $P$, $Q$ и переменная $x$, 
если выполнено $P \rightrightarrows_\beta Q$, то $A [x := P] \rightrightarrows_\beta A [x := Q]$.
Убедитесь, что это справедливо и если $x$ не входит свободно в $A$.

\item Покажите, что каковы бы ни были термы $A$, $B$, $P$, $Q$ и переменная $x$, 
если $A \rightrightarrows_\beta B$ и $P \rightrightarrows_\beta Q$, то 
$A[x := P] \rightrightarrows_\beta B[x := Q]$.

\item Покажите, что $(\rightrightarrows_\beta)$ обладает ромбовидным свойством.

\item \emph{Транзитивным и рефлексивным замыканием} отношения $R \subseteq U^2$ назовём такое отношение
$R^* \subseteq U^2$, что $(x,y) \in R^*$ тогда и только тогда, когда существует $n\in \mathbb{N}$ и последовательность
$a_1,\dots,a_n \in U$, что: $a_1 = x$, $a_n = y$ и $(a_i,a_{i+1}) \in R$.

Покажите, что если $R$ --- некоторое отношение,
обладающее ромбовидным свойством, то $R^*$ тоже обладает
ромбовидным свойством.
\item Покажите, что каковы бы ни были отношения $R$ и $S$, если $R \subseteq S$, то $R^* \subseteq S^*$. 
В частности, покажите, что $(\twoheadrightarrow_\beta) \subseteq (\rightrightarrows_\beta)^*$.

\item Покажите, что $(\rightrightarrows_\beta)^* \subseteq (\twoheadrightarrow_\beta)$
\end{enumerate}

На основании доказанных лемм несложно показать утверждение теоремы Чёрча-Россера: из последних пунктов следует, что
$(\rightrightarrows_\beta)^* = (\twoheadrightarrow_\beta)$, а из пункта (d) --- что это отношение обладает 
ромбовидным свойством. 

\item Реализуйте следующие функции с помощью $Y$-комбинатора, вычисляющие:
\begin{enumerate}
\item факториал числа;
\item $n$-е простое число;
\item функцию Аккермана;
\item частичный логарифм.
\end{enumerate}

\item \emph{Отмеченным объединением} множеств $L \uplus R$ назовём множество пар
$$U = \{ \langle 1, x \rangle\ |\ x \in L \} \cup \{ \langle 2, y \rangle\ |\ y \in R \}$$ 

Соответственно,
для данного множества мы можем определить три функции

\begin{tabular}{l|l|l}
  название & обозначение & определение\\
  \hline
  левая инъекция & $in_L: L \rightarrow U$ & $in_L (x) = \langle 1,x \rangle$\\
  правая инъекция & $in_R: R \rightarrow U$ & $in_R (x) = \langle 2,x \rangle$\\
  выбор & $Case: U \times (L \rightarrow X) \times (R \rightarrow X)\rightarrow X$ & 
    $ Case(u,f,g) = \left\{\begin{array}{ll}f(x), &\mbox{если $u=\langle 1,x\rangle$}\\
                             g(x), &\mbox{если $u=\langle 2,x\rangle$}
                     \end{array}\right.
   $
\end{tabular}

Говоря простыми словами, инъекции приписывают к значению цифру 1 или 2, получая значение
из множества $U$, а выбор, основываясь на приписанной цифре, применяет к значению
первую или вторую фукнцию.

Построим аналогичную конструкцию для типов. \emph{Типом-суммой} типов $L$ и $R$
(или, иначе, \emph{алгебраическим типом}) назовём тип данных $U$, 
хранящий значения либо типа $L$, либо типа $R$, причём всегда точно известно, какого именно 
(сравните с определением дизъюнкции в интуиционистской логике). 
С точки зрения теории множеств, множество значений типа $U$ --- отмеченное объединение множеств
значений типов $L$ и $R$.
Для этого типа существует три базовых операции: две инъекции и выбор. 
Данный тип данных довольно широко распространён, и присутствует в 
ограниченном объёме даже в языках Си и Паскаль.

Например, в языке Паскаль c возможно следующее определение (там данная конструкция называется
<<записью с вариантами>>):

\begin{verbatim}
type value: record 
    is_real: boolean;
    case is_real of
        false: (real_value: real);
        true:  (int_value: integer);
    end;
\end{verbatim}

Данная запись если \verb!is_real = true! содержит поле 
\verb!int_value!, а если \verb!false!~--- поле \verb!real_value!. Реализация данной структуры
предполагает, что оба эти поля расположены в одной памяти.

В языке Си аналогом этой структуры является объединение (\verb!union!), однако, явного поля для выбора
одного из вариантов там не предусмотрено. В языке Си++ довольно близким аналогом является
класс \verb!std::variant! --- <<безопасное>> объединение.

В лямбда-исчислении оказывается возможно реализовать эту конструкцию в чистом математическом
виде:

\begin{center}\begin{tabular}{l}
$In_L = \lambda x.\lambda f.\lambda g.f\ x$\\
$In_R = \lambda x.\lambda f.\lambda g.g\ x$\\
$Case = \lambda u.\lambda f.\lambda g.u\ f\ g$
\end{tabular}\end{center}

Также ещё заметим, что список можно представить, как алгебраический тип с двумя вариантами:
\begin{itemize}
\item \verb!Nil! (соответствует пустому списку)
\item \verb!Cons(h,t)! (соединение головы списка \verb!h! и хвоста \verb!t!)
\end{itemize}
В частности, можно записать список \verb![1,2,3]! как \verb!Cons(1,Cons(2,Cons(3,Nil)))!.

В лямбда-исчислении мы можем представить \verb!Cons(h,t)! как правую инъекцию упорядоченной
пары $\langle h,t\rangle$ (так
будем обозначать выражение $\lambda a.a\ h\ t$),
а \verb!Nil! --- как левую инъекцию любого значения, например, $F$. Тогда список \verb![1,2,3]! может быть представлен
следующим лямбда-выражением:
$$In_R\ \langle\overline{1}, In_R\ \langle\overline{2}, In_R\ \langle\overline{3},In_L\ F\rangle\rangle\rangle$$

\begin{enumerate}
\item Реализуйте конструкции $In_L$, $In_R$, $Case$ на языках Си, Паскаль и Си++ как можно
ближе к формальному определению.
\item Покажите, что $Case\ (In_L\ \overline{0})\ (\lambda x.p)\ (\lambda x.q) =_\beta p$ и 
                    $Case\ (In_R\ q)\ (\lambda x.p)\ (\lambda x.x) =_\beta q$.
\item Постройте лямбда-выражение, по чёрчевскому нумералу $\overline{n}$ возвращающее список \verb![1,2,3,...,n]!.
\item Постройте лямбда-выражение, по списку возвращающее его длину.
\item Постройте лямбда-выражение, суммирующее список чёрчевских нумералов.
\item Покажите, как реализовать алгебраический тип на $n$ вариантов.
\item Покажите, как реализовать обращение списка (функция должна вернуть список в обратном порядке).
\end{enumerate}

\item Чёрчевские нумералы соответствуют аксиоматике Пеано (числа записываются путём приписываний
штрихов --- прибавлений единиц). В частности поэтому вся арифметика с ними крайне медленная.
А можно ли реализовать их с использованием двоичной записи?

\begin{enumerate} 
\item Предложите, как можно реализовать <<логарифмические>> нумералы --- значения,
которые соответствовали бы двоичной записи чисел.
\item Определите операцию преобразования чёрчевского нумерала в логарифмический.
\item Определите операцию преобразования логарифмического нумерала в чёрчевский.
\item Определите операцию суммы логарифмических нумералов.
\item Определите операцию ограниченного вычитания единицы из логарифмического нумерала
(напомним, ограниченное вычитание возвращает 0, если вычитаемое больше уменьшаемого).
\end{enumerate}

\end{enumerate}

\section*{Домашнее задание №3: <<просто типизированное лямбда-исчисление>>}

\begin{enumerate}
\item На прошлой лекции определение параллельной бета-редукции было сформулировано неточно,
отчего следующее утверждение не могло быть доказано:

{\itshape Покажите, что каковы бы ни были термы $A$, $B$, $P$, $Q$ и переменная $x$, 
если $A \rightrightarrows_\beta B$ и $P \rightrightarrows_\beta Q$, то 
$A[x := P] \rightrightarrows_\beta B[x := Q]$.}

Однако, данное утверждение можно доказать, если переформулировать параллельную 
бета-редукцию так. $A \rightrightarrows_\beta B$, если:
\begin{enumerate}
\item $A=x$, $B=y$ и $x=y$
\item $A = P\ Q$, $B = R\ S$ и $P\rightrightarrows_\beta R$, $Q\rightrightarrows_\beta S$
\item $A = \lambda x.P$, $B = \lambda x.Q$ и $P\rightrightarrows_\beta Q$
\item $A = (\lambda x.P)\ Q$, $B = R [x := S]$ и $P\rightrightarrows_\beta R$, $Q\rightrightarrows_\beta S$
\end{enumerate}

В связи с этим:

\begin{enumerate}
\item Докажите утверждение из прошлого домашнего задания при заданном определении.
\item Обладает ли исходное отношение параллельной бета-редукции (заданное на прошлой лекции) ромбовидным свойством?
Возможно, вы можете привести для него контрпример?
\end{enumerate}

\item Покажите, что если $A\twoheadrightarrow_\beta B$ и $\vdash A:\alpha$, то $\vdash B:\alpha$.

\item Верно ли, что если $A\twoheadrightarrow_\beta B$ и $\vdash B:\alpha$, то $\vdash A:\alpha$?
Верно ли это свойство для исчисления по Чёрчу?

\item Покажите, что комбинатор $\Omega = (\lambda x.x\ x)\ (\lambda x.x\ x)$ не имеет типа.

\item Покажите, что никакое лямбда-выражение не имеет типа $((\alpha\rightarrow\beta)\rightarrow\alpha)\rightarrow\alpha$.

\item Докажите следующие утверждения в ИИВ и постройте соответствующие лямбда-выражения
согласно изоморфизму Карри-Ховарда:
\begin{enumerate}
\item $\vdash(\alpha\rightarrow\alpha)\rightarrow\alpha\rightarrow\alpha$
\item $\vdash\alpha\rightarrow\beta\rightarrow\beta$
\item $\vdash(\alpha\rightarrow\beta)\rightarrow\alpha\rightarrow\beta$
\item $\vdash(\alpha\rightarrow\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\beta)$
\item $\vdash(\alpha\rightarrow\beta\rightarrow\gamma)\rightarrow(\beta\rightarrow\alpha\rightarrow\gamma)$
\item $\vdash(\alpha\rightarrow\beta)\rightarrow(\beta\rightarrow\gamma)\rightarrow(\alpha\rightarrow\gamma)$
(аналог контрапозиции)
\end{enumerate}

\item Каков тип лямбда-выражения для суммы двух чёрчевских нумералов? Ответ поясните.

\item Заметим, что:
$$\begin{array}{l}
\vdash S : (\alpha\rightarrow\beta\rightarrow\gamma)\rightarrow(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\gamma)\\
\vdash K : \alpha\rightarrow\beta\rightarrow\alpha\end{array}$$

Как несложно заметить, данные утверждения соответствуют (в смысле изоморфизма Карри-Ховарда) 
схемам аксиом для импликационного фрагмента интуиционистского исчисления высказываний в гильбертовском стиле.
Значит, и доказательство утверждений может быть (согласно изоморфизму) перенесено в лямбда-исчисление.

Гильбертовский стиль, который мы использовали в курсе матлогики, предполагал плоский список высказываний
и номера утверждений для подсказок.
Однако, мы можем изображать эти доказательства и в виде дерева:

%a->a->a
%a->(a->a)->a
%(a->(a->a)->a)->(a->a->a)->(a->a)
%(a->a->a)->(a->a)

$$\infer{\alpha\rightarrow\alpha}
{\alpha\rightarrow\alpha\rightarrow\alpha &
   \infer{(\alpha\rightarrow\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)}
         { \alpha\rightarrow(\alpha\rightarrow\alpha)\rightarrow\alpha &
          (\alpha\rightarrow(\alpha\rightarrow\alpha)\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)
         }
}$$

Давайте теперь изобразим вывод типа (для экономии места мы не указываем вывод типов для комбинаторов
S и K).

$$\infer{\vdash S\ K\ K : \alpha\rightarrow\alpha}
{\vdash K:\alpha\rightarrow\alpha\rightarrow\alpha &
   \infer{\vdash S\ K: (\alpha\rightarrow\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)}
         {\vdash K : \alpha\rightarrow(\alpha\rightarrow\alpha)\rightarrow\alpha &
          \vdash S : (\alpha\rightarrow(\alpha\rightarrow\alpha)\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)
         }
}$$

Осталось заметить, что действительно $I =_\beta S\ K\ K$.

На основе изложенного, постройте доказательства следующих утверждений в гильбертовском стиле и
выразите соответствующие выражения с помощью комбинаторов $S$ и $K$:

\begin{enumerate}
\item $\alpha\rightarrow\beta\rightarrow\beta$
\item $(\alpha\rightarrow\beta)\rightarrow\alpha\rightarrow\beta$
\item $(\alpha\rightarrow\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\beta)$
\item $(\alpha\rightarrow\beta\rightarrow\gamma)\rightarrow(\beta\rightarrow\alpha\rightarrow\gamma)$
\end{enumerate}

\item В дополнение к базису $SK$ рассмотрим базис $BCKW$: 
$$\begin{array}{l}B = \lambda x.\lambda y.\lambda z.x\ (y\ z)\\
C = \lambda x.\lambda y.\lambda z.x\ z\ y\\
K = \lambda x.\lambda y.x\\
W = \lambda x.\lambda y.x\ y\ y\end{array}$$

Выведите типы для данных комбинаторов, постройте схемы аксиом для соответствующего гильбертовского исчисления
высказываний и покажите, что данное исчисление также позволяет доказать любое утверждение из импликационного
фрагмента ИИВ.
\end{enumerate}

\section*{Домашнее задание №4: <<выразительная сила $\lambda_\rightarrow$; три задачи>>}
\begin{enumerate}
\item \emph{(Теорема о замкнутости импликационного фрагмента интуиционистского исчисления высказываний)}
Пусть формулы $\Gamma = \{\gamma_1,\gamma_2,\dots,\gamma_n\}$ и $\alpha$ взяты из импликационного
фрагмента ИИВ. Покажем, что если $\Vdash_C \Gamma$ влечёт $\Vdash_C \alpha$ в любой модели Крипке $C$,
то тогда $\Gamma\vdash_\textrm{иф}\alpha$.

Возьмём следующее множество миров: $W = \{ \Delta\ |\ \Gamma\subseteq\Delta \}$.
Пусть заданы два мира $w_1,w_2\in W$. Договоримся, что $w_1 \preceq w_2$, если $w_1 \subseteq w_2$.
Также договоримся, что если $w_i \in W$ и $P$ --- некоторая пропозициональная переменная,
что $w_i \vdash P$, то $w_i \Vdash P$. Напомним, что данной тройки $\langle W, (\preceq), (\Vdash) \rangle$
достаточно для задания модели Крипке. Тогда рассмотрим следующие задачи:

\begin{enumerate}
\item Покажите корректность определения модели Крипке: покажите, что если $w_i \preceq w_j$ и $w_i \Vdash P$,
то $w_j \Vdash P$.
\item Покажите, что $w_i \Vdash \varphi$ тогда и только тогда, когда $w_i \vdash \varphi$. \emph{Указание:} Из всего определения 
моделей Крипке в импликационном фрагменте имеют смысл только определения для переменной и импликации.
Поэтому главное содержательное утверждение --- показать, что $w_i \Vdash \psi_1\rightarrow\psi_2$
тогда и только тогда, когда $w_i \vdash \psi_1\rightarrow\psi_2$. Используйте структурную индукцию и определение оценки импликации
в моделях Крипке.
\item Пусть $W = \{\Gamma\}$. Предъявите пример таких $\Gamma$ и $\alpha$,
что $\Vdash \Gamma$, $\Vdash \alpha$, но $\Gamma\not\vdash\alpha$.
\item К сожалению, подобным путём доказать полноту моделей Крипке для ИИВ со всеми связками невозможно. 
Пусть мы построили аналогичную конструкцию для полного ИИВ. Тогда предложите такие $\Gamma$ и $\alpha$, 
что при выполненном $\Vdash \Gamma$ выполнение $\Vdash \varphi$ не будет влечь $\Gamma \vdash \varphi$.
\end{enumerate}

Теперь завершим доказательство: в самом деле, если $\Vdash_C \Gamma$ влечёт $\Vdash_C \alpha$ в любой
модели Крипке $C$, то оно будет выполнено и в построенной выше модели $\langle W, (\preceq), (\Vdash) \rangle$.
То есть, если $\Vdash \gamma_1$, ..., $\Vdash \gamma_n$, то $\Vdash \alpha$.
Значит, по определению импликации в моделях Крипке имеем $$\Vdash \gamma_1\rightarrow\dots\rightarrow\gamma_n\rightarrow\alpha$$
Значит, по свойству (b): $$\vdash \gamma_1\rightarrow\dots\rightarrow\gamma_n\rightarrow\alpha$$
И по теореме о дедукции получаем искомое $\Gamma\vdash\alpha$.

\item Покажите, что функция возведения в степень не является расширенным полиномом.

\item Пусть тип $\nu = (\alpha\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)$, где
$\alpha$ --- это некоторый заранее зафиксированный атомарный тип.
Предложите такие лямбда-выражения $F : \nu\rightarrow\nu\rightarrow\nu$, что:
\begin{enumerate}
\item Если $m,n \in \mathbb{N}_0$, то $F_a\ \overline{m}\ \overline{n} =_\beta \overline{m + n}$
\item Если $m,n \in \mathbb{N}_0$, то $F_b\ \overline{m}\ \overline{n} =_\beta \overline{m \cdot n}$
\end{enumerate}

%\item В определениях предыдущей задачи рассмотрим лямбда-выражение $F:\nu\rightarrow\nu\rightarrow\nu$.
%Пусть также $m,n\in\mathbb{N}_0$ и $f:\alpha\rightarrow\alpha$.
%Рассмотрим нормальную форму выражения $F\ \overline{m}\ \overline{n}\ f$ --- она обязана 
%существовать по свойству сильной нормализации $\lambda_\rightarrow$.
%Покажите, что:

\end{enumerate}

\section*{Домашнее задание №5: <<унификация алгебраических термов>>}
\begin{enumerate}

\item Покажите, что несовместная система не имеет решений. А именно, решений нет, если:
\begin{enumerate}
\item Если в системе есть уравнение вида $x = \Theta(x)$, где $\Theta(x)$ --- некоторый
нетривиальный алгебраический терм со свободной переменной $x$.
\item Если в системе есть уравнение вида $$f_n\ \theta_1\ \theta_2\ \dots\ \theta_n = g_m\ \sigma_1\ \sigma_2\ \dots\ \sigma_m$$
где $f_n \not\equiv g_m$.
\end{enumerate}

\item Покажите, что следующие операции строят эквивалентную систему уравнений:
\begin{enumerate}
\item Исключение переменной: из системы 
$$\left\{
\begin{array}{l}x = \xi\\\sigma_1 = \theta_1\\\dots\\\sigma_n=\theta_n\end{array}\right.$$
операция строит систему
$$\left\{
\begin{array}{l}x = \xi\\\sigma_1[x := \xi] = \theta_1[x := \xi]\\\dots\\\sigma_n[x:=\xi]=\theta_n[x := \xi]
\end{array}\right.$$

\item Редукция терма: из системы 
$$\left\{
\begin{array}{l}f_l\ \zeta_1\ \dots\ \zeta_l = f_l\ \eta_1\ \dots\ \eta_l\\
\sigma_1 = \theta_1\\\dots\\\sigma_n=\theta_n\end{array}\right.$$
операция строит систему
$$\left\{
\begin{array}{l}\zeta_1 = \eta_1\\\dots\\\zeta_l = \eta_l\\
\sigma_1 = \theta_1\\\dots\\\sigma_n=\theta_n\end{array}\right.$$

\end{enumerate}

\item В доказательстве завершаемости алгоритма унификации использовалась лексикографически
упорядоченная монотонно убывающая последовательность троек чисел. Однако, точного доказательства
конечности этой последовательности не было дано. Покажите, что:

\begin{enumerate}
\item Не существует бесконечной строго убывающей последовательности упорядоченных троек:
таких $\langle x_i, y_i, z_i\rangle$, $x_i,y_i,z_i \in\mathbb{N}_0$, что
$\langle x_n, y_n, z_n\rangle > \langle x_{n+1}, y_{n+1}, z_{n+1} \rangle$ при любом $n$.
\item Покажите, что любая строго убывающая последовательность ординалов имеет конечную длину.
\item Поясните, почему первый пункт данной задачи является частным случаем второго.
\end{enumerate}

\item При помощи рассказанного на лекции алгоритма найдите типы для следующих лямбда-выражений, или покажите,
что у них нет типа:
\begin{enumerate}
\item $\lambda x.\lambda y.x$
\item $\lambda x.\lambda y.\lambda z.x\ z\ (y\ z)$
\item $(\lambda x.x\ x)\ (\lambda x.x\ x)$
\item $\lambda f.\lambda x.f\ (f\ x)$
\item $\lambda m.\lambda n.\lambda f.\lambda x.m\ f\ (n\ f\ x)$
\item $\lambda m.\lambda n.n\ m$
\item $(\lambda m.\lambda n.n\ m)\ \overline{3}\ \overline{3}$
\item $(\lambda s.(\lambda m.\lambda n.n\ m)\ s\ s)\ \overline{3}$
\item $In_L$, $In_R$, $Case$
\item $Pr_L$, $Pr_R$, $MkPair$
\item Лямбда-выражение, возвращающее $T$, если чёрчевский нумерал равен нулю --- иначе $F$.
\item Лямбда-выражение, проверяющее чётность чёрчевского нумерала.
\end{enumerate}

\item Покажите, что если алгоритм нашёл тип для выражения, то можно построить доказательство,
выводящее этот тип в просто типизированном лямбда-исчислении.

\item Покажите, что если для некоторое лямбда-выражение имеет тип, то у уравнения в алгебраических
термах, строящегося в алгоримте по выражению, найдётся решение.

\item Назовём \emph{наиболее общей парой} для лямбда-выражения $M$ такую пару $\langle \Gamma, \sigma \rangle$ ($\Gamma\vdash M:\sigma$), 
что любая другая пара $\langle\Delta,\tau\rangle$ ($\Delta\vdash M:\tau$) является её частным случаем:
существует подстановка $S$, что $\Delta = S(\Gamma)$ и $\tau = S(\sigma)$. 
\begin{enumerate}
\item дайте корректное определение подстановкам на типах и контекстах ($S(\Gamma)$ и $S(\tau)$), 
<<рукомашески>> использованным выше;
\item покажите, что алгоритм типизации находит наиболее общую пару.
\end{enumerate}

\end{enumerate}
\section*{Домашнее задание №6: <<движемся вперёд: полное исчисление высказываний, логика второго порядка>>}
\begin{enumerate}
\item Найдите термы, населяющие указанные ниже типы, постройте доказательство (вывод соответствующего типа),
      поясните смысл соответствующих следующим лямбда-выражениям программ:
\begin{enumerate}
\item $\alpha\rightarrow\neg\neg\alpha$
\item $(\alpha\rightarrow\beta)\rightarrow(\neg\beta\rightarrow\neg\alpha)$
\item \emph{Даёшь теорему Гливенко!} $\neg\neg(\alpha\vee\neg\alpha)$
\item $\neg\neg(((\alpha\rightarrow\beta)\rightarrow\alpha)\rightarrow\alpha)$
\item \emph{Как вы догадываетесь, обитаем только один из двух вариантов законов Де Моргана, укажите этот вариант
      и решите задачу для него:} 
      $\alpha\vee\beta\rightarrow\neg(\neg\alpha\with\neg\beta)$ или 
      $\neg(\neg\alpha\with\neg\beta)\rightarrow\alpha\vee\beta$.
\end{enumerate}

\item Постройте доказательства в импликационном фрагменте исчисления второго порядка для следующих аксиом
полного исчисления:
\begin{enumerate}
\item введение конъюнкции;
\item исключение конъюнкции;
\item введение дизъюнкции;
\item исключение дизъюнкции;
\item исключение лжи;
\item введение квантора существования;
\item исключение квантора существования;
\item введение отрицания;
\item исключение отрицания.
\end{enumerate}

\item Существует два различных варианта аксиом для конъюнкции в исчислении высказываний. Один был на лекции, 
второй приведён ниже:
$$
\infer{\Gamma\vdash P\with Q}{\Gamma\vdash P\quad\quad\Gamma\vdash Q}
\quad\quad\infer{\Gamma\vdash R}{\Gamma\vdash P\with Q\quad\quad\Gamma,P,Q\vdash R}
$$

Покажите, что аксиомы конъюнкции в каждом из вариантов исчисления могут быть доказаны как теоремы в другом варианте.

\item Предложите лямбда-выражения в системе F и выведите типы для следующих конструкций нетипизированного лямбда-исчисления:
\begin{enumerate}
\item $T$, $F$, исключающее или;
\item чёрчевский нумерал, сложение;
\item возведение в степень чёрчевских нумералов;
\item разность чёрчевских нумералов.
\end{enumerate}

\item Докажите дистрибутивность в логике второго порядка, покажите обитаемость типа и поясните смысл получившейся программы:
$$\forall\alpha.\forall\beta.\forall\gamma.\alpha\vee(\beta\with\gamma)\rightarrow(\alpha\vee\beta)\with(\alpha\vee\gamma)$$

\item Выразимы ли $\Omega$ или $Y$ комбинаторы в системе F?

\item Сформулируйте теорему Чёрча-Россера для исчисления второго порядка. Предложите схему её доказательства.

\end{enumerate}

\section*{Домашнее задание №7: <<экзистенциальные типы>>}
\begin{enumerate}
\item На лекции были выписаны следующие лямбда-выражения для конструкций с кванторами:

$$\begin{array}{ll}
(a) & \textbf{pack}\ M,\tau\ \textbf{to}\ \exists\alpha.\sigma = \Lambda\beta.\lambda x^{\forall\alpha.\sigma\rightarrow\beta}.x\ \tau\ M\\
(b) & \textbf{abstype}\ \alpha\ \textbf{with}\ x:\sigma\ \textbf{is}\ M\ \textbf{in}\ N^\rho = M\ \rho\ (\lambda\alpha.\lambda x^\sigma.N)
\end{array}$$

Возможно, в конструкциях есть ошибки --- исправьте их и докажите, что данные конструкции удовлетворяют аксиомам,
если выразить $\exists \alpha.P$ как $\forall \phi.(\forall\alpha.P\rightarrow\phi)\rightarrow\phi$.

\item Переформулируйте систему F в исчислении по Карри: укажите новые схемы аксиом для квантора всеобщности.
\item Переформулируйте операции abstype и pack для исчисления по Карри, укажите соответствующие им лямбда-выражения
и покажите, что эти выражения соответствуют аксиомам.
\end{enumerate}

\section*{Домашнее задание №8: <<типовая система Хиндли-Милнера>>}
\begin{enumerate}
\item Определим отрицание двумя способами: $\neg\phi = \phi\rightarrow\forall p.p$ и
${\sim}\phi = \forall p.\phi\rightarrow p$. 
\begin{enumerate}
\item Покажите, что оба отрицания эквивалентны в логике 2 порядка, то есть, что выполены следующие
правила:

$$\infer{\Gamma\vdash\neg\phi}{\Gamma\vdash{\sim}\phi} \quad\quad 
  \infer{\Gamma\vdash{\sim}\phi}{\Gamma\vdash\neg\phi}$$

\item Покажите, что если $\Gamma\vdash M:\neg\tau$, то найдётся такое выражение $M'$, что $\Gamma\vdash M':{\sim}\tau$;
и наоборот, если $\Gamma\vdash N:{\sim}\tau$, то для какого-то $N'$ выполнено $\Gamma\vdash N':\neg\tau$

\end{enumerate}
\item Обозначим минимальный ранг типа $\tau$ за $rk(\tau)$. Приведите пример типа $\tau$, что $rk(\tau) = 3$.

\item Докажите, что $rk(\exists x.\phi) > 1$.

\item Придумайте семейство типов $\tau_n$, такое, что $rk(\tau_n) = n$.

\item Определим \emph{арифметическую иерархию} на \emph{классическом} исчислении предикатов \emph{второго} 
порядка (сразу упомянем, что 
данное определение не классическое --- традиционно его вводят для исчисления предикатов первого порядка): 

\begin{itemize}
\item $\Pi_0 = \Sigma_0$ --- все выражения, логически эквивалентные бескванторным выражениям;
\item $\Pi_n, n > 0$ --- все выражения, логически эквивалентные выражениям вида $\forall x.S$, где $S \in \Sigma_{n-1}$;
\item $\Sigma_n, n > 0$ --- все выражения, логически эквивалентные выражениям вида $\exists x.P$, где $P \in \Pi_{n-1}$.
\end{itemize}

Заметим, что, например, $\Pi_3$ состоит из выражений вида $\forall x.\exists y.\forall z.R$.
Также заметим, что, поскольку к любой формуле можно приписать любые кванторы по свежим переменным
и получить формулу, логически эквивалентную исходной, 
то если $m < n$, то $\Pi_m \subset \Pi_n$ и $\Pi_m \subset \Sigma_n$.

На лекции была высказана гипотеза, что ранг типов для лямбда-выражений в системе F связан с чередованием
кванторов. В данной задаче мы предлагаем вам разобраться в этом вопросе:

\begin{enumerate}
\item Существует ли такая константа $k$ и такое семейство типов $\tau_n$, что $rk(\tau_n)=n$, но $\tau_n \in \Pi_k$
\item Существует ли такая константа $k$ и такое семейство типов $\tau_n$, что $\tau_n \in \Pi_n \setminus \Pi_{n-1}$, но $rk(\tau_n) \le k$.
\end{enumerate}

\item Пусть даны две типовых схемы $\sigma_1$ и $\sigma_2$. Придумайте алгоритм проверки того, что
$\sigma_1 \sqsubseteq \sigma_2$.

\item Напомним, что, по определению, $$(\textbf{let}\ x = E_0\ \textbf{in}\ E_1) =_\beta (\lambda x.E_1)\ E_0$$
На основании этой эквивалентности мы можем для каждого лямбда-выражения $E'$ в системе HM сопоставить ему
$\beta$-эквивалентное выражение $E$ в системе F.

Пользуясь этой эквивалентностью, найдите выражения в системе HM для следующих конструкций в системе F,
и докажите, что их типы могут быть выведены в системе HM:
\begin{enumerate}
\item Булевские значения, функция XOR.
\item Чёрчевские нумералы, функция <<сумма>>.
\item Возведение в степень (для чёрчевских нумералов).
\item Вычитание.
\item Деление.
\end{enumerate}

\end{enumerate}

\section*{Домашнее задание №9: <<алгоритм W; типовая система HM>>}
\begin{enumerate}
\item С помощью алгоритма W выведите типы для следующих выражений (или укажите, что выражения не имеют типа):
\begin{enumerate}
\item $a$
\item $x:\alpha\vdash x\ x$
\item $\vdash \lambda x.x\ x$
%\item $\vdash \textbf{let}\ x\ \textbf{in}\ x\ x$
\item $\vdash \textbf{let}\ \overline{1} = \lambda f.\lambda x.f\ x\ \textbf{in}\ \overline{1}\ \overline{1}$
\item $\vdash \textbf{let}\ s = \lambda f.\lambda x.f\ (f\ x)\ \textbf{in}\ sq\ (sq\ \overline{1})$
\item $\vdash \textbf{let}\ s = \lambda f.\lambda x.f\ (f\ x)\ \textbf{in}\ (sq\ sq)\ \overline{1}$
\item $\vdash \textbf{let}\ s = \lambda f.\lambda x.f\ (f\ x)\ \textbf{in}\ sq\ sq\ sq\ sq\ sq\ \overline{1}$;
чему равен результат бета-редукции указанного терма?
\end{enumerate}
\item Рассмотрим типовую систему HM+Y: система Хиндли-Милнера в которой, по определению,
$\vdash (\lambda f.(\lambda x.f\ (x\ x))\ (\lambda x.f\ (x\ ))): \forall \alpha.(\alpha\rightarrow\alpha)\rightarrow\alpha$.
\begin{enumerate}
\item Типизируем ли в этой типовой системе $\Omega = \omega\ \omega$, где $\omega = \lambda x.x\ x$?
\item Найдите такой терм $F$, что $\vdash F:\bot$.
\item Найдите такой терм $E$, что $\vdash E:\alpha\vee\neg\alpha$.                          
\end{enumerate}
\item Как нетрудно заметить, список --- это <<параметризованные>> числа в аксиоматике Пеано.
Число --- это длина списка, а к каждому штриху мы присоединяем какое-то значение.
Операции добавления и удаления элемента из списка --- это операции прибавления и вычитания
единицы к числу.

Рассмотрим тип <<бинарного списка>>:

\begin{verbatim}
type 'a bin_list = Nil | Zero of (('a*'a) bin_list) | One of 'a * (('a*'a) bin_list);;
\end{verbatim}

Если бы такое можно было выразить в типовой системе Хиндли-Милнера, то операция добавления
элемента к списку записалась бы на языке Окамль вот так (сравните с прибавлением 1 к числу
в двоичной системе счисления):

\begin{verbatim}
let rec add elem lst = match lst with
    Nil -> One (elem,Nil)
  | Zero tl -> One (elem,tl)
  | One (hd,tl) -> Zero (add (elem,hd) tl)
\end{verbatim}

\begin{enumerate}
\item Какой тип имеет \verb!add! (рекурсивная функция должна уже включать в себя Y-комбинатор и не
требовать никаких дополнительных усилий для вызова)?
Считайте, что тип \verb!bin_list 'a! уже как-то задан, и обозначается как $\tau(\alpha)$.
\item Какой ранг имеет тип этой функции, почему её не скомпилировать в Окамле?
\item Предложите функцию для удаления элемента списка (головы).
\item Предложите функцию для эффективного соединения двух списков (источник для 
вдохновения --- сложение двух чисел в столбик).
\item Предложите функцию для эффективного выделения $n$-го элемента из списка.
\end{enumerate}

%\item В стандартной библиотеке Java есть такой текст:
%
%\begin{verbatim}
%public abstract class Enum<E extends Enum<E>>
%\end{verbatim}
%
%Предположим, что в типовой системе есть дополнительный двухместный предикатный символ <<наследует>> ($<:$).
%Тогда укажите 

\item Задан тип <<дерево>>:

\begin{verbatim}
type 'a tree = Leaf of 'a | Node of (tree 'a) * (tree 'a);;
\end{verbatim}

Задайте тип $\tau(\alpha)$:
\begin{enumerate}
\item Как эквирекурсивный тип (задайте через $\mu$-оператор).
\item Как изорекурсивный тип (определите функции \verb!roll! и \verb!unroll!, укажите их тип).
\end{enumerate}

\end{enumerate}

\section*{Домашнее задание №10: <<Язык Идрис>>}

\begin{enumerate}
\item Воспользовавшись функцией \verb!sprintf! как образцом, добавьте  
следующие шаблоны:
\begin{enumerate}
\item строка (шаблон \verb!%s!);
\item десятичное число заданной длины с ведущими нулями (шаблон \verb!%05d! и подобные);
\item строка заданной параметрами длины (шаблон \verb!%*.*s!).
\end{enumerate}

\item Определите в языке Идрис конъюнкцию и дизъюнкцию с помощью
квантора всеобщности и импликации (аналогично интуиционистскому исчислению предикатов второго порядка).
Определите все стандартные операции для них (инъекции, проекции и т.п.):
эти операции, очевидно, будут доказательством некоторых утверждений в интуиционистской
логике. Какие это утверждения, приведите их.

\item Аналогично предыдущему заданию, определите в языке Идрис чёрчевские нумералы и арифметические операции на них.

\item Рассмотрим три алгебраических типа из языка Идрис: 
\begin{enumerate}
\item натуральное число \verb!Nat!:\\
\url{https://github.com/idris-lang/Idris-dev/blob/master/libs/prelude/Prelude/Nat.idr};
\item ограниченное целое число \verb!Fin!:\\
\url{https://github.com/idris-lang/Idris-dev/blob/master/libs/base/Data/Fin.idr};
\item ограниченный вектор \verb!Vect!:\\
\url{https://www.idris-lang.org/docs/current/base_doc/docs/Data.Vect.html} и
\end{enumerate}

Определите функцию \verb!swap: Vect n a -> (Fin n) -> (Fin n) -> Vect n a!,
строящую новый вектор, в котором два элемента вектора поменяны местами.

\item Определите функции арифметики для Fin:
\begin{enumerate}
\item \verb!plus_fin: Fin a -> Fib b -> Fin (a+b)!\\
\item \verb!mul_fin: Fin a -> Fin b -> Fin (a*b)!\\
\item \verb!dec_fin: Fin (S a) -> Fin a!
\end{enumerate}

\item Определите функции минимума для натуральных (Пеано) и конечных чисел:\\
\verb!nat_min: Nat -> Nat -> Nat!\\
\verb!min_fin: {a:Nat} -> {b:Nat} -> Fin (S a) -> Fin (S b) -> Fin (S (nat_min a b))!

Также определите функции:
\begin{verbatim}
map2: {X:Type} -> {Y:Type} -> {Z:Type} -> (a:Nat) -> (b:Nat) -> 
                       (X->Y->Z) -> Vect a X -> Vect b Y -> Vect (nat_min a b) Z

index2: {X:Type} -> {Y:Type} -> (a:Nat) -> (b:Nat) -> Fin (nat_min a b) ->
                       Vect a X -> Vect b Y -> (X,Y)
\end{verbatim}

\end{enumerate}

\section*{Домашнее задание №11: <<Идрис, простые доказательства>>}
Ещё раз напомним конструкцию \verb!replace!, использованную на лекции:

\verb!replace: (x=y) -> P x -> P y!.

Функция replace берёт два явных параметра, и один неявный ($P$).
$P$ --- это некоторый тип, зависящий от $x$. Функция имеет естественный 
смысл: если два значения равны, и свойство выполнено для одного из них, 
то оно выполнено и для другого.

Неявность $P$ предполагает, что компилятор может догадаться до того, что
это за значение, но на практике он обычно не справляется с этой задачей. 
Поэтому обычно $P$ нужно указывать.

Давайте поймём, что это должен быть за $P$, и для этого рассмотрим 
пример:

\verb!plus_zero_commutative: (a:Nat) -> 0 + a = a + 0!

Здесь мы, имея предположением индукции \verb!0+a=a+0!, должны
доказать \verb!0 + (S a) = (S a) + 0!. Логично взять предположение
за равенство $x=y$, при этом \verb!x! будет соответствовать \verb!0 + a!,
а \verb!y! будет соответствовать \verb!a + 0!.
Теперь подберём такое $P$, чтобы \verb!P (0 + a)! 
унифицировалось с \verb!0 + (S a)!, а \verb!P (a + 0)! унифицировалось 
с \verb!(S a) + 0!.

Давайте возьмём \verb!P = \w => S (0+a)=S w!. Тогда \verb!P (0 + a)! --- это
\verb!S (0+a) = S (0+a)! (что очевидно доказывается при помощи \verb!Refl!), 
а \verb!P (a+0)! --- это \verb!S (0+a) = S (a+0)! (что является требуемым 
утверждением, так как \verb!S (0+a)! = \verb!S(a)! = \verb!0+S(a)!; компилятор,
как мы обсуждали, способен короткие цепочки подобных преобразований
производить самостоятельно).

Итак, мы получили следующий код:
\begin{verbatim}
plus_zero_commutative: (a:Nat) -> 0 + a = a + 0
plus_zero_commutative Z = Refl
plus_zero_commutative (S a) = 
      replace {P = \w => S (0+a)=S w} (plus_zero_commutative a) Refl
\end{verbatim}

В отличие от \verb!replace!, конструкция \verb!rewrite! имеет дополнительный
эвристический алгоритм для подбора соответствующего $P$, поэтому в части случаев 
мы можем довериться её интеллекту.

\begin{enumerate}
\item Свойства равенства. Докажите, что:
\begin{enumerate}
\item \verb!x = y -> y = x!
\item \verb!x = y -> y = z -> x = z!
\item (конгруэнтность) \verb!(P: A->B) -> x = y -> P x = P y!
\end{enumerate}

\item Простая арифметика --- сложение. Докажите, что:
\begin{enumerate} 
\item \verb!x = x + 0!
\item \verb!S x = 1 + x!
\item \verb!S x = x + 1!
\item \verb!S x + S x = S (S (x + x))!
\item \verb!S x + S y = S (S (x + y))!
\item \verb!S (x + y) = x + (S y)!
\item \verb!x + y = y + x!
\item \verb!x + (y + z) = (x + y) + z!
\end{enumerate}

\item Простая арифметика --- умножение. Докажите, что:
\begin{enumerate} 
\item \verb!0 = x * 0!
\item \verb!0 = 0 * x!
\item \verb!x = 1 * x!
\item \verb!x = x * 1!
\item \verb!x * y = y * x!
\item \verb!x * (y * z) = (x * y) * z!
\item \verb!x * (y + z) = x * y + x * z!
\item \verb!(y + z) * t = y * t + z * t!
\item \verb!(x + y) * 2 = x + x + y + y!
\end{enumerate}

\item Отношение <<меньше или равно>> определено в библиотеке Идрис так:

\begin{verbatim}
data LTE : (n : Nat) -> (m : Nat) -> Type where
    LTEZero : LTE 0 right  -- Zero is the smallest Nat
    LTESucc : LTE left right -> LTE (S left) (S right)
                           -- If n <= m, then n + 1 <= m + 1
\end{verbatim}

\begin{enumerate}
\item Докажите, что \verb!LTE 3 5!
\item Докажите, что \verb!LTE x y -> LTE x (S y)!
\item Докажите, что \verb!LTE x y -> LTE (x+n) (y+n)!
\item \verb!LTE x y -> LTE y z -> LTE x z!
\item \verb!LTE x y -> LTE y x -> x = y!
\item \verb!LTE x x!
\end{enumerate}

\item Определите отношение <<строго больше>>, $GT$. Докажите, что

\begin{enumerate}
\item \verb!GT 5 3!
\item \verb!GT x y -> GT y z -> GT x z!
\item \verb!GT (x+1) x!
\item \verb!GT x y -> GT (x+n) (y+n)!
\item \verb!GT (x*x) x!
\item \verb!GT x 2 -> GT (x*x) (x+x)!
\item \verb!Either (LTE x y) (GT x y)!
\end{enumerate}

\item Определите ограниченное вычитание \verb!sub! (\verb!sub x y! равно 0, если $x < y$), 
докажите:
\begin{enumerate}
\item \verb!LTE x y -> sub x y = 0!
\item \verb!sub x y = 0 -> LTE x y!
\item \verb!LTE y x -> y + (sub x y) = x!
\end{enumerate}

\end{enumerate}

\section*{Домашние задания на баллы}

Здесь приведены задания на языке Идрис для желающих добрать баллы для зачёта.
Некоторые задания могут решать все, некоторые задания можно решать только
из своего варианта.

\begin{enumerate}
\item Задание для всех (20 баллов).

Формализуйте и докажите малую теорему Ферма: если $a$ ($a \in \mathbb{N}$) не делится на простое число $p$,
то $$a^{p-1} \equiv 1 \mod p$$

\item Задание для всех (20 баллов).

Формализуйте в языке Идрис и докажите следующее утверждение: связный неориентированный
граф имеет Эйлеров цикл тогда и только тогда, когда каждая вершина в нём имеет чётную степень.

\item Простая арифметическая задача 1 (4 балла).
\begin{enumerate}
\item Вариант 1.
Докажите, что $\forall x\in\mathbb{N}_0.(x+2)^2 = x^2 + 4x + 4$
\item Вариант 2.
Докажите, что $\forall x\in\mathbb{N}_0.(2x+1)^2 = 4x^2 + 4x + 1$
\item Вариант 3.
Докажите, что $\forall x\in\mathbb{N}_0.x^2 + 1 = 1 \rightarrow x = 0$
\item Вариант 4.
Докажите, что $\forall x\in\mathbb{N}_0.x < 3 \rightarrow x = 0 \vee x = 1 \vee x = 2$
\item Вариант 5.
Докажите, что $\forall x\in\mathbb{N}_0.x < 3 \rightarrow x^2 < 9$
\item Вариант 6.
Докажите, что $\forall x\in\mathbb{N}_0.x^2 + x^2 + x^2 + x^2 = (2x)^2$
\item Вариант 7.
Докажите, что $\forall x\in\mathbb{N}_0.x \ge 1 \rightarrow x < 2 \rightarrow x = 1$
\item Вариант 8.
Докажите, что $\forall x\in\mathbb{N}_0.x = 0 \vee x = 1 \vee x = 2 \rightarrow x < 3$
\end{enumerate}

\end{enumerate}
\end{document}
                  
